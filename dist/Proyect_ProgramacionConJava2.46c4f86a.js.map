{"mappings":"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","sources":["<anon>","src/js/controller.js","src/js/views/recipeView.js","src/js/views/view.js","node_modules/@parcel/runtime-js/lib/runtime-5929b7c83f8c6dd2.js","src/js/models.js","src/js/config.js","src/js/views/helper.js","src/js/views/searchView.js","src/js/views/resultsView.js","src/js/views/previewView.js","src/js/views/paginationView.js","src/js/views/bookmarksView.js","src/js/views/addRecipeView.js"],"sourcesContent":["// import icons from 'url:../img/icons.svg';\n//import icons from 'url:../../img/icons.svg';\nvar $c502d14e532623e1$exports = {};\n$c502d14e532623e1$exports = import.meta.resolve(\"hfd23\");\n\n\nconst $b2d7157267813d3a$var$icons = new URL($c502d14e532623e1$exports).href;\nclass $b2d7157267813d3a$export$2e2bcd8739ae039 {\n    _data;\n    render(data, render = true) {\n        if (!data || Array.isArray(data) && data.length === 0) return this.renderError();\n        this._data = data;\n        const markup1 = this._generateMarkup();\n        if (!render) return markup1;\n        // console.log(markup);\n        this._clear();\n        this._parentElement.insertAdjacentHTML('afterbegin', markup1);\n    }\n    update(data, render = true) {\n        this._data = data;\n        const newMarkup = this._generateMarkup();\n        if (!render) return markup;\n        const newDOM = document.createRange().createContextualFragment(newMarkup);\n        const newElements = Array.from(newDOM.querySelectorAll('*'));\n        const curElements = Array.from(this._parentElement.querySelectorAll('*'));\n        newElements.forEach((newEl, i)=>{\n            const curEl = curElements[i];\n            //updates changed text\n            if (!newEl.isEqualNode(curEl) && newEl.firstChild?.nodeValue.trim() !== '') curEl.textContent = newEl.textContent;\n            //updates changed attributes\n            if (!newEl.isEqualNode(curEl)) Array.from(newEl.attributes).forEach((attr)=>curEl.setAttribute(attr.name, attr.value));\n        });\n    }\n    _clear() {\n        this._parentElement.innerHTML = '';\n    }\n    renderSpinner() {\n        const markup1 = `\n        <div class=\"spinner\">\n           <svg>\n              <use href=\"${$b2d7157267813d3a$var$icons}#icon-loader\"></use>\n           </svg>\n         </div>\n    `;\n        this._clear();\n        this._parentElement.insertAdjacentHTML('afterbegin', markup1);\n    // console.log('rendered');\n    }\n    renderError(message = this._errorMessage) {\n        const markup1 = `\n          <div class=\"error\">\n            <div>\n              <svg>\n                <use href=\"${$b2d7157267813d3a$var$icons}#icon-alert-triangle\"></use>\n              </svg>\n            </div>\n            <p>${message}</p>\n          </div>`;\n        this._clear();\n        this._parentElement.insertAdjacentHTML('afterbegin', markup1);\n    }\n    renderMessage(message = this._message) {\n        const markup1 = `\n          <div class=\"message\">\n            <div>\n              <svg>\n                <use href=\"${$b2d7157267813d3a$var$icons}#icon-smile\"></use>\n              </svg>\n            </div>\n            <p>${message}</p>\n          </div>`;\n        this._clear();\n        this._parentElement.insertAdjacentHTML('afterbegin', markup1);\n    }\n}\n\n\n\nconst $d14dc0f178617192$var$icons = new URL($c502d14e532623e1$exports).href;\nclass $d14dc0f178617192$var$RecepieView extends (0, $b2d7157267813d3a$export$2e2bcd8739ae039) {\n    _parentElement = document.querySelector('.recipe');\n    _errorMessage = ' No recipes found for your query. Please try again!';\n    _message = '';\n    addHandler(handler) {\n        [\n            'hashchange',\n            'load'\n        ].forEach((ev)=>window.addEventListener(ev, handler));\n    }\n    addHandlerUpdateServings(handler) {\n        this._parentElement.addEventListener('click', function(e) {\n            const btn = e.target.closest('.btn--tiny');\n            if (!btn) return;\n            const { updateTo: updateTo } = btn.dataset;\n            if (+updateTo > 0) handler(+updateTo);\n        });\n    }\n    addHandlerAddBookmark(handler) {\n        this._parentElement.addEventListener('click', function(e) {\n            const btn = e.target.closest('.btn--bookmark');\n            if (!btn) return;\n            handler();\n        });\n    }\n    _generateMarkup() {\n        return `\n        <figure class=\"recipe__fig\">\n              <img src=\"${this._data.image}\" alt=\"${this._data.title}\" class=\"recipe__img\" />\n              <h1 class=\"recipe__title\">\n                <span>${this._data.title}</span>\n              </h1>\n            </figure>\n\n            <div class=\"recipe__details\">\n              <div class=\"recipe__info\">\n                <svg class=\"recipe__info-icon\">\n                  <use href=\"${$d14dc0f178617192$var$icons}#icon-clock\"></use>\n                </svg>\n                <span class=\"recipe__info-data recipe__info-data--minutes\">${this._data.cookingTime}</span>\n                <span class=\"recipe__info-text\">minutes</span>\n              </div>\n              <div class=\"recipe__info\">\n                <svg class=\"recipe__info-icon\">\n                  <use href=\"${$d14dc0f178617192$var$icons}#icon-users\"></use>\n                </svg>\n                <span class=\"recipe__info-data recipe__info-data--people\">${this._data.servings}</span>\n                <span class=\"recipe__info-text\">servings</span>\n\n                <div class=\"recipe__info-buttons\">\n                  <button class=\"btn--tiny btn--update-servings\" data-update-to=\"${this._data.servings - 1}\">\n                    <svg>\n                      <use href=\"${$d14dc0f178617192$var$icons}#icon-minus-circle\"></use>\n                    </svg>\n                  </button>\n                  <button class=\"btn--tiny btn--update-servings\" data-update-to=\"${this._data.servings + 1}\">\n                    <svg>\n                      <use href=\"${$d14dc0f178617192$var$icons}#icon-plus-circle\"></use>\n                    </svg>\n                  </button>\n                </div>\n              </div>\n\n              <div class=\"recipe__user-generated ${this._data.key ? '' : 'hidden'}\">\n                <svg>\n                  <use href=\"${$d14dc0f178617192$var$icons}#icon-user\"></use>\n                </svg>\n              </div>\n              <button class=\"btn--round btn--bookmark\">\n                <svg class=\"\">\n                  <use href=\"${$d14dc0f178617192$var$icons}#icon-bookmark${this._data.bookmarked ? '-fill' : ''}\"></use>\n                </svg>\n              </button>\n            </div>\n\n            <div class=\"recipe__ingredients\">\n              <h2 class=\"heading--2\">Recipe ingredients</h2>\n              <ul class=\"recipe__ingredient-list\">\n                ${this._data.ingredints.map(this._generateMarkupIngredient).join('')}\n\n            </div>\n\n            <div class=\"recipe__directions\">\n              <h2 class=\"heading--2\">How to cook it</h2>\n              <p class=\"recipe__directions-text\">\n                This recipe was carefully designed and tested by\n                <span class=\"recipe__publisher\">${this._data.publisher}</span>. Please check out\n                directions at their website.\n              </p>\n              <a\n                class=\"btn--small recipe__btn\"\n                href=\"${this._data.sorceUrl}\"\n                target=\"_blank\"\n              >\n                <span>Directions</span>\n                <svg class=\"search__icon\">\n                  <use href=\"${$d14dc0f178617192$var$icons}#icon-arrow-right\"></use>\n                </svg>\n              </a>\n            </div>\n    `;\n    }\n    _generateMarkupIngredient(ing) {\n        return `\n    <li class=\"recipe__ingredient\">\n    <svg class=\"recipe__icon\">\n      <use href=\"${$d14dc0f178617192$var$icons}#icon-check\"></use>\n    </svg>\n    <div class=\"recipe__quantity\">${ing.quantity ? $d14dc0f178617192$var$floatAFraccionSimple(ing.quantity) : ''}</div>\n    <div class=\"recipe__description\">\n      <span class=\"recipe__unit\">${ing.unit}</span>\n  ${ing.description}\n    </div>\n  </li>\n    `;\n    }\n}\nfunction $d14dc0f178617192$var$simplificarFraccion(numerador, denominador) {\n    const mcd = (a, b)=>b === 0 ? a : mcd(b, a % b);\n    const divisor = mcd(numerador, denominador);\n    let nnumerador = numerador / divisor;\n    let ndenominador = denominador / divisor;\n    // console.log(`${nnumerador}/${ndenominador}`)\n    return [\n        nnumerador,\n        ndenominador\n    ];\n}\nfunction $d14dc0f178617192$var$floatAFraccionSimple(decimal) {\n    const str = decimal.toString();\n    // console.log(str);\n    if (str.indexOf('.') === -1) return `${decimal}`;\n    const decimales = str.length - str.indexOf('.') - 1;\n    const denominador = Math.pow(10, decimales);\n    const numerador = decimal * denominador;\n    const [num, den] = $d14dc0f178617192$var$simplificarFraccion(numerador, denominador);\n    return `${num}/${den}`;\n}\nvar $d14dc0f178617192$export$2e2bcd8739ae039 = new $d14dc0f178617192$var$RecepieView();\n\n\nconst $ba30e20475feac5a$export$923ea8233b386e99 = 'https://forkify-api.herokuapp.com/api/v2/recipes';\nconst $ba30e20475feac5a$export$196440f71ed9f601 = 20;\nconst $ba30e20475feac5a$export$5feaddb1377b7f5e = 10;\nconst $ba30e20475feac5a$export$7167c830cefcb6b5 = 'b2773b78-484b-471c-95d0-f62282d51797';\nconst $ba30e20475feac5a$export$3ce8858248d89a69 = 5;\n\n\n\nconst $7de0ff7ad01e6871$var$timeout = function(s) {\n    return new Promise(function(_, reject) {\n        setTimeout(function() {\n            reject(new Error(`Request took too long! Timeout after ${s} second`));\n        }, s * 1000);\n    });\n};\nconst $7de0ff7ad01e6871$export$2b3ff41fecbef7c8 = async function(url, uploadData) {\n    try {\n        const fetchPro = uploadData ? await fetch(url, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(uploadData)\n        }) : fetch(url);\n        const res = await Promise.race([\n            fetchPro,\n            $7de0ff7ad01e6871$var$timeout((0, $ba30e20475feac5a$export$196440f71ed9f601))\n        ]);\n        const data = await res.json();\n        if (!res.ok) throw new Error(`${data.message} (${res.status})`);\n        return data;\n    } catch (err) {\n        throw err;\n    }\n};\n\n\nconst $ca3f5e8015d47218$export$ca000e230c0caa3e = {\n    recipe: {},\n    search: {\n        query: '',\n        results: [],\n        page: 1,\n        resultsPerPage: (0, $ba30e20475feac5a$export$5feaddb1377b7f5e)\n    },\n    bookmarks: []\n};\nconst $ca3f5e8015d47218$export$b96725c7a035d60b = async function(id) {\n    try {\n        const data = await (0, $7de0ff7ad01e6871$export$2b3ff41fecbef7c8)(`${(0, $ba30e20475feac5a$export$923ea8233b386e99)}/${id}`);\n        $ca3f5e8015d47218$export$ca000e230c0caa3e.recipe = $ca3f5e8015d47218$var$createRecipeObject(data);\n        if ($ca3f5e8015d47218$export$ca000e230c0caa3e.bookmarks.some((bookmark)=>bookmark.id === id)) $ca3f5e8015d47218$export$ca000e230c0caa3e.recipe.bookmarked = true;\n        else $ca3f5e8015d47218$export$ca000e230c0caa3e.recipe.bookmarked = false;\n    // console.log(state.recipe);\n    } catch (err) {\n        console.error(`${err}`);\n        throw err;\n    }\n};\nconst $ca3f5e8015d47218$var$createRecipeObject = function(data) {\n    const { recipe: recipe } = data.data;\n    return {\n        id: recipe.id,\n        title: recipe.title,\n        publisher: recipe.publisher,\n        sorceUrl: recipe.source_url,\n        image: recipe.image_url,\n        servings: recipe.servings,\n        cookingTime: recipe.cooking_time,\n        ingredints: recipe.ingredients,\n        ...recipe.key && {\n            key: recipe.key\n        }\n    };\n};\nconst $ca3f5e8015d47218$export$202b8e5cb363a0c4 = async function(query) {\n    try {\n        $ca3f5e8015d47218$export$ca000e230c0caa3e.search.query = query;\n        const data = await (0, $7de0ff7ad01e6871$export$2b3ff41fecbef7c8)(`${(0, $ba30e20475feac5a$export$923ea8233b386e99)}?search=${query}`);\n        // console.log(data);\n        $ca3f5e8015d47218$export$ca000e230c0caa3e.search.results = data.data.recipes.map((rec)=>{\n            return {\n                id: rec.id,\n                title: rec.title,\n                publisher: rec.publisher,\n                image: rec.image_url,\n                ...rec.key && {\n                    key: rec.key\n                }\n            };\n        });\n        // console.log(state.search);\n        $ca3f5e8015d47218$export$ca000e230c0caa3e.search.page = 1;\n    } catch (err) {\n        console.error(`${err}`);\n        throw err;\n    }\n};\nconst $ca3f5e8015d47218$export$785165c672bdc55c = function(page = $ca3f5e8015d47218$export$ca000e230c0caa3e.search.page) {\n    $ca3f5e8015d47218$export$ca000e230c0caa3e.search.page = page;\n    const start = (page - 1) * $ca3f5e8015d47218$export$ca000e230c0caa3e.search.resultsPerPage;\n    const end = page * $ca3f5e8015d47218$export$ca000e230c0caa3e.search.resultsPerPage;\n    return $ca3f5e8015d47218$export$ca000e230c0caa3e.search.results.slice(start, end);\n};\nconst $ca3f5e8015d47218$export$5e23f4642ecad5ea = function(newServings) {\n    $ca3f5e8015d47218$export$ca000e230c0caa3e.recipe.ingredints.forEach((ing)=>{\n        ing.quantity = ing.quantity * newServings / $ca3f5e8015d47218$export$ca000e230c0caa3e.recipe.servings;\n    // console.log(ing);\n    });\n    $ca3f5e8015d47218$export$ca000e230c0caa3e.recipe.servings = newServings;\n};\nconst $ca3f5e8015d47218$var$persistBookmarks = function() {\n    localStorage.setItem('bookmarks', JSON.stringify($ca3f5e8015d47218$export$ca000e230c0caa3e.bookmarks));\n};\nconst $ca3f5e8015d47218$export$72009cc673d27d80 = function(recepie) {\n    // add bookmark\n    $ca3f5e8015d47218$export$ca000e230c0caa3e.bookmarks.push(recepie);\n    // mark current recipe as bookmark\n    if (recepie.id === $ca3f5e8015d47218$export$ca000e230c0caa3e.recipe.id) $ca3f5e8015d47218$export$ca000e230c0caa3e.recipe.bookmarked = true;\n    $ca3f5e8015d47218$var$persistBookmarks();\n};\nconst $ca3f5e8015d47218$export$cfae3353e37f94bf = function(id) {\n    const index = $ca3f5e8015d47218$export$ca000e230c0caa3e.bookmarks.findIndex((el)=>el.id === id);\n    $ca3f5e8015d47218$export$ca000e230c0caa3e.bookmarks.splice(index, 1);\n    // mark current recipe as not bookmark\n    if (id === $ca3f5e8015d47218$export$ca000e230c0caa3e.recipe.id) $ca3f5e8015d47218$export$ca000e230c0caa3e.recipe.bookmarked = false;\n    $ca3f5e8015d47218$var$persistBookmarks();\n};\nconst $ca3f5e8015d47218$var$init = function() {\n    const storage = localStorage.getItem('bookmarks');\n    if (storage) $ca3f5e8015d47218$export$ca000e230c0caa3e.bookmarks = JSON.parse(storage);\n};\n$ca3f5e8015d47218$var$init();\nconst $ca3f5e8015d47218$var$clearBookmarks = function() {\n    localStorage.clear('bookmarks');\n};\nconst $ca3f5e8015d47218$export$d660c2254e74960d = async function(newRecipe) {\n    try {\n        const ingredients = Object.entries(newRecipe).filter((entry)=>entry[0].startsWith('ingredient') && entry[1] !== '').map((ing)=>{\n            const ingArr = ing[1].split(',').map((el)=>el.trim());\n            // const ingArr = ing[1].replaceAll(' ', '').split(',');\n            if (ingArr.length !== 3) throw new Error('wrong ingredient format! please use the currect format :)');\n            const [quantity, unit, description] = ingArr;\n            return {\n                quantity: quantity ? +quantity : null,\n                unit: unit,\n                description: description\n            };\n        });\n        const recipe = {\n            title: newRecipe.title,\n            source_url: newRecipe.sourceUrl,\n            image_url: newRecipe.image,\n            publisher: newRecipe.publisher,\n            cooking_time: +newRecipe.cookingTime,\n            servings: +newRecipe.servings,\n            ingredients: ingredients\n        };\n        const data = await (0, $7de0ff7ad01e6871$export$2b3ff41fecbef7c8)(`${(0, $ba30e20475feac5a$export$923ea8233b386e99)}?key=${(0, $ba30e20475feac5a$export$7167c830cefcb6b5)}`, recipe);\n        $ca3f5e8015d47218$export$ca000e230c0caa3e.recipe = $ca3f5e8015d47218$var$createRecipeObject(data);\n        $ca3f5e8015d47218$export$72009cc673d27d80($ca3f5e8015d47218$export$ca000e230c0caa3e.recipe);\n    } catch (err) {\n        throw err;\n    }\n};\n\n\n\nclass $813cf99795e9ec97$var$SearchView {\n    _parentElement = document.querySelector('.search');\n    getQuary() {\n        const query = this._parentElement.querySelector('.search__field').value;\n        this.clearInput();\n        return query;\n    }\n    clearInput() {\n        this._parentElement.querySelector('.search__field').value = '';\n    }\n    addHandlerSearch(handler) {\n        this._parentElement.addEventListener('submit', function(e) {\n            e.preventDefault();\n            handler();\n        });\n    }\n}\nvar $813cf99795e9ec97$export$2e2bcd8739ae039 = new $813cf99795e9ec97$var$SearchView();\n\n\n\n\nconst $a68ceb92eae160df$var$icons = new URL($c502d14e532623e1$exports).href;\nclass $a68ceb92eae160df$var$PreviewView extends (0, $b2d7157267813d3a$export$2e2bcd8739ae039) {\n    _parentElement = '';\n    _generateMarkup() {\n        const id = window.location.hash.slice(1);\n        return `\n          <li class=\"preview\">\n            <a class=\"preview__link ${this._data.id === id ? 'preview__link--active' : ''}\" href=\"#${this._data.id}\">\n              <figure class=\"preview__fig\">\n                <img src=\"${this._data.image}\" alt=\"${this._data.title}\" />\n              </figure>\n              <div class=\"preview__data\">\n                <h4 class=\"preview__title\">${this._data.title}</h4>\n                <p class=\"preview__publisher\">${this._data.publisher}</p>\n                <div class=\"recipe__user-generated ${this._data.key ? '' : 'hidden'}\">\n                  <svg>\n                    <use href=\"${$a68ceb92eae160df$var$icons}#icon-user\"></use>\n                  </svg>\n                </div>\n              </div>\n            </a>\n          </li>`;\n    }\n}\nvar $a68ceb92eae160df$export$2e2bcd8739ae039 = new $a68ceb92eae160df$var$PreviewView();\n\n\n\nclass $dddbd0b30676c4ae$var$ResultsView extends (0, $b2d7157267813d3a$export$2e2bcd8739ae039) {\n    _parentElement = document.querySelector('.results');\n    _errorMessage = ' No recipes found for your query. Please try again ;)';\n    _message = '';\n    _generateMarkup() {\n        return this._data.map((result)=>(0, $a68ceb92eae160df$export$2e2bcd8739ae039).render(result, false)).join('');\n    }\n}\nvar $dddbd0b30676c4ae$export$2e2bcd8739ae039 = new $dddbd0b30676c4ae$var$ResultsView();\n\n\n\n\nconst $cfa940594ee109f7$var$icons = new URL($c502d14e532623e1$exports).href;\nclass $cfa940594ee109f7$var$PaginationView extends (0, $b2d7157267813d3a$export$2e2bcd8739ae039) {\n    _parentElement = document.querySelector('.pagination');\n    addHandlerClick(handler) {\n        this._parentElement.addEventListener('click', function(e) {\n            const btn = e.target.closest('.btn--inline');\n            if (!btn) return;\n            const goToPage = +btn.dataset.goto;\n            handler(goToPage);\n        });\n    }\n    _generateMarkup() {\n        const curPage = this._data.page;\n        const numPages = Math.ceil(this._data.results.length / this._data.resultsPerPage);\n        // Page 1 and there are other pages\n        if (curPage === 1 && numPages > 1) return `\n          <button data-goto=\"${curPage + 1}\" class=\"btn--inline pagination__btn--next\">\n            <span>Page ${curPage + 1}</span>\n            <svg class=\"search__icon\">\n              <use href=\"${$cfa940594ee109f7$var$icons}#icon-arrow-right\"></use>\n            </svg>\n          </button>`;\n        // Last page\n        if (curPage === numPages && numPages > 1) return `\n         <button data-goto=\"${curPage - 1}\" class=\"btn--inline pagination__btn--prev\">\n            <svg class=\"search__icon\">\n              <use href=\"${$cfa940594ee109f7$var$icons}#icon-arrow-left\"></use>\n            </svg>\n            <span>Page ${curPage - 1}</span>\n          </button>\n          `;\n        // Other page\n        if (curPage < numPages) return `\n       <button data-goto=\"${curPage - 1}\" class=\"btn--inline pagination__btn--prev\">\n            <svg class=\"search__icon\">\n              <use href=\"${$cfa940594ee109f7$var$icons}#icon-arrow-left\"></use>\n            </svg>\n            <span>Page ${curPage - 1}</span>\n          </button>\n           <button data-goto=\"${curPage + 1}\" class=\"btn--inline pagination__btn--next\">\n            <span>Page ${curPage + 1}</span>\n            <svg class=\"search__icon\">\n              <use href=\"${$cfa940594ee109f7$var$icons}#icon-arrow-right\"></use>\n            </svg>\n          </button>`;\n        // Page 1 and there are no other pages\n        return 'Only one page';\n    }\n}\nvar $cfa940594ee109f7$export$2e2bcd8739ae039 = new $cfa940594ee109f7$var$PaginationView();\n\n\n// import icons from 'url:../../img/icons.svg';\n\n\nclass $5d1bb7e064b2cbd1$var$BookmarksView extends (0, $b2d7157267813d3a$export$2e2bcd8739ae039) {\n    _parentElement = document.querySelector('.bookmarks__list');\n    _errorMessage = ' No bookmarks yet. Find a nice recipe and bookmark it :)';\n    _message = '';\n    addHandlerRender(handler) {\n        window.addEventListener('load', handler);\n    }\n    _generateMarkup() {\n        // console.log(this._data);\n        return this._data.map((bookmark)=>(0, $a68ceb92eae160df$export$2e2bcd8739ae039).render(bookmark, false)).join('');\n    }\n}\nvar $5d1bb7e064b2cbd1$export$2e2bcd8739ae039 = new $5d1bb7e064b2cbd1$var$BookmarksView();\n\n\n\nclass $e5dc5dc5ede8bdf4$var$AddRecipeView extends (0, $b2d7157267813d3a$export$2e2bcd8739ae039) {\n    _parentElement = document.querySelector('.upload');\n    _message = 'Recipe was successfully uploaded :)';\n    _window = document.querySelector('.add-recipe-window');\n    _overlay = document.querySelector('.overlay');\n    _btnOpen = document.querySelector('.nav__btn--add-recipe');\n    _btnClose = document.querySelector('.btn--close-modal');\n    constructor(){\n        super();\n        this._addHandlerShowWindow();\n        this._addHandlerHideWindow();\n    }\n    toggleWindow() {\n        this._overlay.classList.toggle('hidden');\n        this._window.classList.toggle('hidden');\n    }\n    _addHandlerShowWindow() {\n        this._btnOpen.addEventListener('click', this.toggleWindow.bind(this));\n    }\n    _addHandlerHideWindow() {\n        this._btnClose.addEventListener('click', this.toggleWindow.bind(this));\n        this._overlay.addEventListener('click', this.toggleWindow.bind(this));\n    }\n    addHandlerUPload(handler) {\n        this._parentElement.addEventListener('submit', function(e) {\n            e.preventDefault();\n            const dataArr = [\n                ...new FormData(this)\n            ];\n            const data = Object.fromEntries(dataArr);\n            handler(data);\n        });\n    }\n    _generateMarkup() {}\n}\nvar $e5dc5dc5ede8bdf4$export$2e2bcd8739ae039 = new $e5dc5dc5ede8bdf4$var$AddRecipeView();\n\n\nconst $f50bd1f2915ed0f2$var$recipeContainer = document.querySelector('.recipe');\nconst $f50bd1f2915ed0f2$var$timeout = function(s) {\n    return new Promise(function(_, reject) {\n        setTimeout(function() {\n            reject(new Error(`Request took too long! Timeout after ${s} second`));\n        }, s * 1000);\n    });\n};\n// https://forkify-api.herokuapp.com/v2\n///////////////////////////////////////\nasync function $f50bd1f2915ed0f2$var$controlRecipes() {\n    try {\n        //renderSpinner(recipeContainer);\n        const id = window.location.hash.slice(1);\n        //console.log(id);\n        if (!id) return;\n        (0, $d14dc0f178617192$export$2e2bcd8739ae039).renderSpinner();\n        // const resp = await fetch(`https://forkify-api.herokuapp.com/api/v2/recipes/${id}`);  \n        // const data = await resp.json();   \n        //await model.loadRecipe(id); \n        (0, $dddbd0b30676c4ae$export$2e2bcd8739ae039).update($ca3f5e8015d47218$export$785165c672bdc55c());\n        (0, $5d1bb7e064b2cbd1$export$2e2bcd8739ae039).update($ca3f5e8015d47218$export$ca000e230c0caa3e.bookmarks);\n        // const recipe = model.state;\n        // let recipe = data.data.recipe;\n        // recipe = {\n        //             id: recipe.id,\n        //             title: recipe.title,\n        //             publisher: recipe.publisher,\n        //             sourceUrl: recipe.source_url,\n        //             image: recipe.image_url,\n        //             servings: recipe.servings,\n        //             cookTime: recipe.cooking_time,\n        //             ingredients: recipe.ingredients,\n        //             }; \n        await $ca3f5e8015d47218$export$b96725c7a035d60b(id);\n        // recipeContainer.innerHTML = '';\n        // recipeContainer.insertAdjacentHTML('afterbegin', markup);\n        (0, $d14dc0f178617192$export$2e2bcd8739ae039).render($ca3f5e8015d47218$export$ca000e230c0caa3e.recipe);\n    } catch (err) {\n        console.error(err);\n        alert(err);\n    }\n}\nasync function $f50bd1f2915ed0f2$var$controlSearchResults() {\n    try {\n        (0, $dddbd0b30676c4ae$export$2e2bcd8739ae039).renderSpinner();\n        const query = (0, $813cf99795e9ec97$export$2e2bcd8739ae039).getQuary();\n        if (!query) return;\n        await $ca3f5e8015d47218$export$202b8e5cb363a0c4(query);\n        (0, $dddbd0b30676c4ae$export$2e2bcd8739ae039).render($ca3f5e8015d47218$export$785165c672bdc55c());\n        (0, $cfa940594ee109f7$export$2e2bcd8739ae039).render($ca3f5e8015d47218$export$ca000e230c0caa3e.search);\n    } catch (err) {\n        console.error(err);\n    }\n}\nfunction $f50bd1f2915ed0f2$var$controlAddBookmark() {\n    if (!$ca3f5e8015d47218$export$ca000e230c0caa3e.recipe.bookmarked) $ca3f5e8015d47218$export$72009cc673d27d80($ca3f5e8015d47218$export$ca000e230c0caa3e.recipe);\n    else $ca3f5e8015d47218$export$cfae3353e37f94bf($ca3f5e8015d47218$export$ca000e230c0caa3e.recipe.id);\n    (0, $d14dc0f178617192$export$2e2bcd8739ae039).update($ca3f5e8015d47218$export$ca000e230c0caa3e.recipe);\n    (0, $5d1bb7e064b2cbd1$export$2e2bcd8739ae039).render($ca3f5e8015d47218$export$ca000e230c0caa3e.bookmarks);\n}\nasync function $f50bd1f2915ed0f2$var$controlAddRecipe(newRecipe) {\n    try {\n        (0, $e5dc5dc5ede8bdf4$export$2e2bcd8739ae039).renderSpinner();\n        await $ca3f5e8015d47218$export$d660c2254e74960d(newRecipe);\n        console.log($ca3f5e8015d47218$export$ca000e230c0caa3e.recipe);\n        (0, $d14dc0f178617192$export$2e2bcd8739ae039).render($ca3f5e8015d47218$export$ca000e230c0caa3e.recipe);\n        (0, $e5dc5dc5ede8bdf4$export$2e2bcd8739ae039).renderMessage();\n        (0, $5d1bb7e064b2cbd1$export$2e2bcd8739ae039).render($ca3f5e8015d47218$export$ca000e230c0caa3e.bookmarks);\n        window.history.pushState(null, '', `#${$ca3f5e8015d47218$export$ca000e230c0caa3e.recipe.id}`);\n        setTimeout(()=>{\n            (0, $e5dc5dc5ede8bdf4$export$2e2bcd8739ae039).toggleWindow();\n        }, (0, $ba30e20475feac5a$export$3ce8858248d89a69) * 1000);\n    } catch (err) {\n        console.error(\"\\uD83D\\uDCA5\", err);\n        (0, $e5dc5dc5ede8bdf4$export$2e2bcd8739ae039).renderError(err.message);\n    }\n}\nfunction $f50bd1f2915ed0f2$var$controlPagination(pageGoTo) {\n    (0, $dddbd0b30676c4ae$export$2e2bcd8739ae039).render($ca3f5e8015d47218$export$785165c672bdc55c(pageGoTo));\n    (0, $cfa940594ee109f7$export$2e2bcd8739ae039).render($ca3f5e8015d47218$export$ca000e230c0caa3e.search);\n}\nconst $f50bd1f2915ed0f2$var$controlServings = function(newServings) {\n    $ca3f5e8015d47218$export$5e23f4642ecad5ea(newServings);\n    (0, $d14dc0f178617192$export$2e2bcd8739ae039).update($ca3f5e8015d47218$export$ca000e230c0caa3e.recipe);\n};\n// function renderSpinner(parentEl){\n//   let markup = `<div class=\"spinner\">\n//           <svg>\n//             <use href=\"src/img/icons.svg#icon-loader\"></use>\n//           </svg>\n//         </div> `;\n//   parentEl.innerHTML = '';\n//   parentEl.insertAdjacentHTML('afterbegin', markup);\n// }\nconst $f50bd1f2915ed0f2$var$controlBookmarks = function() {\n    (0, $5d1bb7e064b2cbd1$export$2e2bcd8739ae039).render($ca3f5e8015d47218$export$ca000e230c0caa3e.bookmarks);\n};\n//Event listener\n// document.addEventListener('DOMContentLoaded', function(){\n//     //console.log('App lista para interacciÃ³n.')\n//     //showRecipe();\n//     recipeView.addHandler(controlRecipes);\n//     recipeView.addHandlerUpdateServings(controlServings);\n//     recipeView.addHandlerAddBookmark(controlAddBookmark);\n//     bookmarksView.addHandlerRender(controlBookmarks);\n//     searchView.addHandlerSearch(controlSearchResults);\n//     paginationView.addHandlerClick(controlPagination);\n//     addRecipeView.addHandlerUPload(controlAddRecipe);\n// });\nconst $f50bd1f2915ed0f2$var$init = function() {\n    (0, $5d1bb7e064b2cbd1$export$2e2bcd8739ae039).addHandlerRender($f50bd1f2915ed0f2$var$controlBookmarks);\n    (0, $d14dc0f178617192$export$2e2bcd8739ae039).addHandler($f50bd1f2915ed0f2$var$controlRecipes);\n    (0, $d14dc0f178617192$export$2e2bcd8739ae039).addHandlerUpdateServings($f50bd1f2915ed0f2$var$controlServings);\n    (0, $d14dc0f178617192$export$2e2bcd8739ae039).addHandlerAddBookmark($f50bd1f2915ed0f2$var$controlAddBookmark);\n    (0, $813cf99795e9ec97$export$2e2bcd8739ae039).addHandlerSearch($f50bd1f2915ed0f2$var$controlSearchResults);\n    (0, $cfa940594ee109f7$export$2e2bcd8739ae039).addHandlerClick($f50bd1f2915ed0f2$var$controlPagination);\n    (0, $e5dc5dc5ede8bdf4$export$2e2bcd8739ae039).addHandlerUPload($f50bd1f2915ed0f2$var$controlAddRecipe);\n};\n$f50bd1f2915ed0f2$var$init(); //const arr = ['hashchange', 'load'].forEach((ev)=>{\n // console.log(ev);\n //document.addEventListener(ev, showRecipe());\n //});\n\n\n//# sourceMappingURL=Proyect_ProgramacionConJava2.46c4f86a.js.map\n","// import icons from 'url:../img/icons.svg';\r\nimport recipeView from './views/recipeView';\r\nimport * as model from './models';\r\nconst recipeContainer = document.querySelector('.recipe');\r\nimport { MODAL_CLOSE_SEC } from './config';\r\nimport searchView from './views/searchView';\r\nimport resultsView from './views/resultsView';\r\nimport paginationView from './views/paginationView';\r\nimport bookmarksView from './views/bookmarksView';\r\nimport addRecipeView from './views/addRecipeView';\r\n\r\nconst timeout = function (s) {\r\n  return new Promise(function (_, reject) {\r\n    setTimeout(function () { \r\n      reject(new Error(`Request took too long! Timeout after ${s} second`));\r\n    }, s * 1000);\r\n  });\r\n};\r\n\r\n// https://forkify-api.herokuapp.com/v2\r\n\r\n///////////////////////////////////////\r\n\r\nasync function controlRecipes() {\r\n  try{\r\n    //renderSpinner(recipeContainer);\r\n    const id = window.location.hash.slice(1);\r\n    //console.log(id);\r\n    if(!id){\r\n      return;\r\n    }\r\n    recipeView.renderSpinner();\r\n    // const resp = await fetch(`https://forkify-api.herokuapp.com/api/v2/recipes/${id}`);  \r\n    // const data = await resp.json();   \r\n    //await model.loadRecipe(id); \r\n    resultsView.update(model.getSearchResulstPage());\r\n    bookmarksView.update(model.state.bookmarks);\r\n    // const recipe = model.state;\r\n    // let recipe = data.data.recipe;\r\n    // recipe = {\r\n    //             id: recipe.id,\r\n    //             title: recipe.title,\r\n    //             publisher: recipe.publisher,\r\n    //             sourceUrl: recipe.source_url,\r\n    //             image: recipe.image_url,\r\n    //             servings: recipe.servings,\r\n    //             cookTime: recipe.cooking_time,\r\n    //             ingredients: recipe.ingredients,\r\n    //             }; \r\n    await model.loadRecipe(id);\r\n    // recipeContainer.innerHTML = '';\r\n    // recipeContainer.insertAdjacentHTML('afterbegin', markup);\r\n    recipeView.render(model.state.recipe);\r\n  }\r\n  catch(err){\r\n    console.error(err);\r\n    alert(err);\r\n  }  \r\n}\r\n\r\nasync function controlSearchResults() {\r\n  try {\r\n    resultsView.renderSpinner();\r\n    const query = searchView.getQuary();\r\n    if (!query) return;\r\n    await model.loadSearchResults(query);\r\n    resultsView.render(model.getSearchResulstPage());\r\n    paginationView.render(model.state.search);\r\n  } catch (err) {\r\n    console.error(err);\r\n  }\r\n}\r\n\r\nfunction controlAddBookmark(){\r\n  if (!model.state.recipe.bookmarked) model.addBookmark(model.state.recipe);\r\n  else model.deletBookmark(model.state.recipe.id);\r\n  recipeView.update(model.state.recipe);\r\n  bookmarksView.render(model.state.bookmarks);\r\n}\r\n\r\n\r\nasync function controlAddRecipe(newRecipe) {\r\n  try {\r\n    addRecipeView.renderSpinner();\r\n    await model.uploadRecipe(newRecipe);\r\n    console.log(model.state.recipe);\r\n    recipeView.render(model.state.recipe);\r\n    addRecipeView.renderMessage();\r\n    bookmarksView.render(model.state.bookmarks);\r\n    window.history.pushState(null, '', `#${model.state.recipe.id}`);\r\n    setTimeout(() => {\r\n      addRecipeView.toggleWindow();\r\n    }, MODAL_CLOSE_SEC * 1000);\r\n  } catch (err) {\r\n    console.error('ðŸ’¥', err);\r\n    addRecipeView.renderError(err.message);\r\n  }\r\n}\r\n\r\nfunction controlPagination(pageGoTo) {\r\n  resultsView.render(model.getSearchResulstPage(pageGoTo));\r\n  paginationView.render(model.state.search);\r\n}\r\n\r\nconst controlServings = function (newServings) {\r\n  model.updateServings(newServings);\r\n  recipeView.update(model.state.recipe);\r\n}\r\n// function renderSpinner(parentEl){\r\n//   let markup = `<div class=\"spinner\">\r\n//           <svg>\r\n//             <use href=\"src/img/icons.svg#icon-loader\"></use>\r\n//           </svg>\r\n//         </div> `;\r\n//   parentEl.innerHTML = '';\r\n//   parentEl.insertAdjacentHTML('afterbegin', markup);\r\n// }\r\nconst controlBookmarks = function(){\r\n    bookmarksView.render(model.state.bookmarks);\r\n}\r\n//Event listener\r\n// document.addEventListener('DOMContentLoaded', function(){\r\n//     //console.log('App lista para interacciÃ³n.')\r\n//     //showRecipe();\r\n    \r\n//     recipeView.addHandler(controlRecipes);\r\n//     recipeView.addHandlerUpdateServings(controlServings);\r\n//     recipeView.addHandlerAddBookmark(controlAddBookmark);\r\n//     bookmarksView.addHandlerRender(controlBookmarks);\r\n//     searchView.addHandlerSearch(controlSearchResults);\r\n//     paginationView.addHandlerClick(controlPagination);\r\n//     addRecipeView.addHandlerUPload(controlAddRecipe);\r\n// });\r\n\r\nconst init = function () {\r\n  bookmarksView.addHandlerRender(controlBookmarks);\r\n  recipeView.addHandler(controlRecipes);\r\n  recipeView.addHandlerUpdateServings(controlServings);\r\n  recipeView.addHandlerAddBookmark(controlAddBookmark);\r\n  searchView.addHandlerSearch(controlSearchResults);\r\n  paginationView.addHandlerClick(controlPagination);\r\n  addRecipeView.addHandlerUPload(controlAddRecipe);\r\n};\r\ninit();\r\n\r\n//const arr = ['hashchange', 'load'].forEach((ev)=>{\r\n  // console.log(ev);\r\n  //document.addEventListener(ev, showRecipe());\r\n//});","//import icons from 'url:../../img/icons.svg';\r\nconst icons = new URL('../../img/icons.svg', import.meta.url).href;\r\n// import Fraction from 'fracty';\r\n// import { fraction, Fraction } from 'mathjs';\r\nimport view from './view';\r\n\r\nclass RecepieView extends view {\r\n  _parentElement = document.querySelector('.recipe');\r\n  _errorMessage = ' No recipes found for your query. Please try again!';\r\n  _message = '';\r\n\r\n  addHandler(handler) {\r\n    ['hashchange', 'load'].forEach(ev => window.addEventListener(ev, handler));\r\n  }\r\n\r\n  addHandlerUpdateServings(handler) {\r\n    this._parentElement.addEventListener('click', function (e) {\r\n      const btn = e.target.closest('.btn--tiny');\r\n      if (!btn) return;\r\n      const { updateTo } = btn.dataset;\r\n      if (+updateTo > 0) handler(+updateTo);\r\n    });\r\n  }\r\n\r\n  addHandlerAddBookmark(handler) {\r\n    this._parentElement.addEventListener('click', function (e) {\r\n      const btn = e.target.closest('.btn--bookmark');\r\n      if (!btn) return;\r\n      handler();\r\n    });\r\n  }\r\n\r\n  _generateMarkup() {\r\n    return `\r\n        <figure class=\"recipe__fig\">\r\n              <img src=\"${this._data.image}\" alt=\"${\r\n      this._data.title\r\n    }\" class=\"recipe__img\" />\r\n              <h1 class=\"recipe__title\">\r\n                <span>${this._data.title}</span>\r\n              </h1>\r\n            </figure>\r\n\r\n            <div class=\"recipe__details\">\r\n              <div class=\"recipe__info\">\r\n                <svg class=\"recipe__info-icon\">\r\n                  <use href=\"${icons}#icon-clock\"></use>\r\n                </svg>\r\n                <span class=\"recipe__info-data recipe__info-data--minutes\">${\r\n                  this._data.cookingTime\r\n                }</span>\r\n                <span class=\"recipe__info-text\">minutes</span>\r\n              </div>\r\n              <div class=\"recipe__info\">\r\n                <svg class=\"recipe__info-icon\">\r\n                  <use href=\"${icons}#icon-users\"></use>\r\n                </svg>\r\n                <span class=\"recipe__info-data recipe__info-data--people\">${\r\n                  this._data.servings\r\n                }</span>\r\n                <span class=\"recipe__info-text\">servings</span>\r\n\r\n                <div class=\"recipe__info-buttons\">\r\n                  <button class=\"btn--tiny btn--update-servings\" data-update-to=\"${\r\n                    this._data.servings - 1\r\n                  }\">\r\n                    <svg>\r\n                      <use href=\"${icons}#icon-minus-circle\"></use>\r\n                    </svg>\r\n                  </button>\r\n                  <button class=\"btn--tiny btn--update-servings\" data-update-to=\"${\r\n                    this._data.servings + 1\r\n                  }\">\r\n                    <svg>\r\n                      <use href=\"${icons}#icon-plus-circle\"></use>\r\n                    </svg>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"recipe__user-generated ${\r\n                this._data.key ? '' : 'hidden'\r\n              }\">\r\n                <svg>\r\n                  <use href=\"${icons}#icon-user\"></use>\r\n                </svg>\r\n              </div>\r\n              <button class=\"btn--round btn--bookmark\">\r\n                <svg class=\"\">\r\n                  <use href=\"${icons}#icon-bookmark${\r\n      this._data.bookmarked ? '-fill' : ''\r\n    }\"></use>\r\n                </svg>\r\n              </button>\r\n            </div>\r\n\r\n            <div class=\"recipe__ingredients\">\r\n              <h2 class=\"heading--2\">Recipe ingredients</h2>\r\n              <ul class=\"recipe__ingredient-list\">\r\n                ${this._data.ingredints\r\n                  .map(this._generateMarkupIngredient)\r\n                  .join('')}\r\n\r\n            </div>\r\n\r\n            <div class=\"recipe__directions\">\r\n              <h2 class=\"heading--2\">How to cook it</h2>\r\n              <p class=\"recipe__directions-text\">\r\n                This recipe was carefully designed and tested by\r\n                <span class=\"recipe__publisher\">${\r\n                  this._data.publisher\r\n                }</span>. Please check out\r\n                directions at their website.\r\n              </p>\r\n              <a\r\n                class=\"btn--small recipe__btn\"\r\n                href=\"${this._data.sorceUrl}\"\r\n                target=\"_blank\"\r\n              >\r\n                <span>Directions</span>\r\n                <svg class=\"search__icon\">\r\n                  <use href=\"${icons}#icon-arrow-right\"></use>\r\n                </svg>\r\n              </a>\r\n            </div>\r\n    `;\r\n  }\r\n  _generateMarkupIngredient(ing) {\r\n    return `\r\n    <li class=\"recipe__ingredient\">\r\n    <svg class=\"recipe__icon\">\r\n      <use href=\"${icons}#icon-check\"></use>\r\n    </svg>\r\n    <div class=\"recipe__quantity\">${\r\n      ing.quantity ? floatAFraccionSimple(ing.quantity) : ''\r\n    }</div>\r\n    <div class=\"recipe__description\">\r\n      <span class=\"recipe__unit\">${ing.unit}</span>\r\n  ${ing.description}\r\n    </div>\r\n  </li>\r\n    `;\r\n  }\r\n}\r\n\r\nfunction simplificarFraccion(numerador, denominador) {\r\n    const mcd = (a, b) => b === 0 ? a : mcd(b, a % b);\r\n    const divisor = mcd(numerador, denominador);    \r\n    let nnumerador = (numerador/divisor);\r\n    let ndenominador = (denominador/divisor);\r\n    // console.log(`${nnumerador}/${ndenominador}`)\r\n    return [nnumerador, ndenominador];\r\n}\r\n\r\nfunction floatAFraccionSimple(decimal) {\r\n    const str = decimal.toString();\r\n    // console.log(str);\r\n    if (str.indexOf('.') === -1) {\r\n        return `${decimal}`;\r\n    }\r\n    const decimales = str.length - str.indexOf('.') - 1;\r\n    const denominador = Math.pow(10, decimales);\r\n    const numerador = decimal * denominador;\r\n    \r\n    const [num, den] = simplificarFraccion(numerador, denominador);\r\n    return `${num}/${den}`;\r\n}\r\n\r\nexport default new RecepieView();","const icons = new URL('../../img/icons.svg', import.meta.url).href;\r\n\r\nexport default class view {\r\n  _data;\r\n\r\n  render(data, render = true) {\r\n    if (!data || (Array.isArray(data) && data.length === 0))\r\n      return this.renderError();\r\n\r\n    this._data = data;\r\n    const markup = this._generateMarkup();\r\n    if (!render) return markup;\r\n    // console.log(markup);\r\n    this._clear();\r\n    this._parentElement.insertAdjacentHTML('afterbegin', markup);\r\n  }\r\n\r\n  update(data, render = true) {\r\n    this._data = data;\r\n    const newMarkup = this._generateMarkup();\r\n\r\n    if (!render) return markup;\r\n\r\n    const newDOM = document.createRange().createContextualFragment(newMarkup);\r\n    const newElements = Array.from(newDOM.querySelectorAll('*'));\r\n    const curElements = Array.from(this._parentElement.querySelectorAll('*'));\r\n\r\n    newElements.forEach((newEl, i) => {\r\n      const curEl = curElements[i];\r\n\r\n      //updates changed text\r\n      if (\r\n        !newEl.isEqualNode(curEl) &&\r\n        newEl.firstChild?.nodeValue.trim() !== ''\r\n      ) {\r\n        curEl.textContent = newEl.textContent;\r\n      }\r\n      //updates changed attributes\r\n      if (!newEl.isEqualNode(curEl))\r\n        Array.from(newEl.attributes).forEach(attr =>\r\n          curEl.setAttribute(attr.name, attr.value)\r\n        );\r\n    });\r\n  }\r\n\r\n  _clear() {\r\n    this._parentElement.innerHTML = '';\r\n  }\r\n\r\n  renderSpinner() {\r\n    const markup = `\r\n        <div class=\"spinner\">\r\n           <svg>\r\n              <use href=\"${icons}#icon-loader\"></use>\r\n           </svg>\r\n         </div>\r\n    `;\r\n    this._clear();\r\n    this._parentElement.insertAdjacentHTML('afterbegin', markup);\r\n    // console.log('rendered');\r\n  }\r\n\r\n  renderError(message = this._errorMessage) {\r\n    const markup = `\r\n          <div class=\"error\">\r\n            <div>\r\n              <svg>\r\n                <use href=\"${icons}#icon-alert-triangle\"></use>\r\n              </svg>\r\n            </div>\r\n            <p>${message}</p>\r\n          </div>`;\r\n    this._clear();\r\n    this._parentElement.insertAdjacentHTML('afterbegin', markup);\r\n  }\r\n\r\n  renderMessage(message = this._message) {\r\n    const markup = `\r\n          <div class=\"message\">\r\n            <div>\r\n              <svg>\r\n                <use href=\"${icons}#icon-smile\"></use>\r\n              </svg>\r\n            </div>\r\n            <p>${message}</p>\r\n          </div>`;\r\n    this._clear();\r\n    this._parentElement.insertAdjacentHTML('afterbegin', markup);\r\n  }\r\n}\r\n","module.exports = __parcel__import__.meta.resolve(\"hfd23\");","import { API_URL, RES_PER_PAGE, KEY } from './config';\r\nimport { AJAX } from './views/helper';\r\nexport const state = {\r\n  recipe: {},\r\n  search: {\r\n    query: '',\r\n    results: [],\r\n    page: 1,\r\n    resultsPerPage: RES_PER_PAGE,\r\n  },\r\n  bookmarks: [],\r\n};\r\n\r\nexport const loadRecipe = async function (id) {\r\n  try {\r\n    const data = await AJAX(`${API_URL}/${id}`);\r\n    state.recipe = createRecipeObject(data);\r\n\r\n    if (state.bookmarks.some(bookmark => bookmark.id === id))\r\n      state.recipe.bookmarked = true;\r\n    else state.recipe.bookmarked = false;\r\n    // console.log(state.recipe);\r\n  } catch (err) {\r\n    console.error(`${err}`);\r\n    throw err;\r\n  }\r\n};\r\n\r\nconst createRecipeObject = function (data) {\r\n  const { recipe } = data.data;\r\n  return {\r\n    id: recipe.id,\r\n    title: recipe.title,\r\n    publisher: recipe.publisher,\r\n    sorceUrl: recipe.source_url,\r\n    image: recipe.image_url,\r\n    servings: recipe.servings,\r\n    cookingTime: recipe.cooking_time,\r\n    ingredints: recipe.ingredients,\r\n    ...(recipe.key && { key: recipe.key }),\r\n  };\r\n};\r\n\r\nexport const loadSearchResults = async function (query) {\r\n  try {\r\n    state.search.query = query;\r\n    const data = await AJAX(`${API_URL}?search=${query}`);\r\n    // console.log(data);\r\n    state.search.results = data.data.recipes.map(rec => {\r\n      return {\r\n        id: rec.id,\r\n        title: rec.title,\r\n        publisher: rec.publisher,\r\n        image: rec.image_url,\r\n        ...(rec.key && { key: rec.key }),\r\n      };\r\n    });\r\n    // console.log(state.search);\r\n    state.search.page = 1;\r\n  } catch (err) {\r\n    console.error(`${err}`);\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const getSearchResulstPage = function (page = state.search.page) {\r\n  state.search.page = page;\r\n  const start = (page - 1) * state.search.resultsPerPage;\r\n  const end = page * state.search.resultsPerPage;\r\n\r\n  return state.search.results.slice(start, end);\r\n};\r\n\r\nexport const updateServings = function (newServings) {\r\n  state.recipe.ingredints.forEach(ing => {\r\n    ing.quantity = (ing.quantity * newServings) / state.recipe.servings;\r\n    // console.log(ing);\r\n  });\r\n  state.recipe.servings = newServings;\r\n};\r\n\r\nconst persistBookmarks = function () {\r\n  localStorage.setItem('bookmarks', JSON.stringify(state.bookmarks));\r\n};\r\n\r\nexport const addBookmark = function (recepie) {\r\n  // add bookmark\r\n  state.bookmarks.push(recepie);\r\n\r\n  // mark current recipe as bookmark\r\n  if (recepie.id === state.recipe.id) state.recipe.bookmarked = true;\r\n\r\n  persistBookmarks();\r\n};\r\n\r\nexport const deletBookmark = function (id) {\r\n  const index = state.bookmarks.findIndex(el => el.id === id);\r\n  state.bookmarks.splice(index, 1);\r\n\r\n  // mark current recipe as not bookmark\r\n  if (id === state.recipe.id) state.recipe.bookmarked = false;\r\n\r\n  persistBookmarks();\r\n};\r\n\r\nconst init = function () {\r\n  const storage = localStorage.getItem('bookmarks');\r\n  if (storage) state.bookmarks = JSON.parse(storage);\r\n};\r\n\r\ninit();\r\n\r\nconst clearBookmarks = function () {\r\n  localStorage.clear('bookmarks');\r\n};\r\n// clearBookmarks();\r\n\r\nexport const uploadRecipe = async function (newRecipe) {\r\n  try {\r\n    const ingredients = Object.entries(newRecipe)\r\n      .filter(entry => entry[0].startsWith('ingredient') && entry[1] !== '')\r\n      .map(ing => {\r\n        const ingArr = ing[1].split(',').map(el => el.trim());\r\n        // const ingArr = ing[1].replaceAll(' ', '').split(',');\r\n        if (ingArr.length !== 3)\r\n          throw new Error(\r\n            'wrong ingredient format! please use the currect format :)'\r\n          );\r\n        const [quantity, unit, description] = ingArr;\r\n        return { quantity: quantity ? +quantity : null, unit, description };\r\n      });\r\n    const recipe = {\r\n      title: newRecipe.title,\r\n      source_url: newRecipe.sourceUrl,\r\n      image_url: newRecipe.image,\r\n      publisher: newRecipe.publisher,\r\n      cooking_time: +newRecipe.cookingTime,\r\n      servings: +newRecipe.servings,\r\n      ingredients,\r\n    };\r\n    const data = await AJAX(`${API_URL}?key=${KEY}`, recipe);\r\n    state.recipe = createRecipeObject(data);\r\n    addBookmark(state.recipe);\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};","export const API_URL = 'https://forkify-api.herokuapp.com/api/v2/recipes';\r\nexport const TIMEOUT_SEC = 20;\r\nexport const RES_PER_PAGE = 10;\r\nexport const KEY = 'b2773b78-484b-471c-95d0-f62282d51797';\r\nexport const MODAL_CLOSE_SEC = 5;\r\n","import { TIMEOUT_SEC } from '../config';\r\n\r\nconst timeout = function (s) {\r\n  return new Promise(function (_, reject) {\r\n    setTimeout(function () {\r\n      reject(new Error(`Request took too long! Timeout after ${s} second`));\r\n    }, s * 1000);\r\n  });\r\n};\r\n\r\nexport const AJAX = async function (url, uploadData = undefined) {\r\n  try {\r\n    const fetchPro = uploadData\r\n      ? await fetch(url, {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(uploadData),\r\n        })\r\n      : fetch(url);\r\n\r\n    const res = await Promise.race([fetchPro, timeout(TIMEOUT_SEC)]);\r\n    const data = await res.json();\r\n    if (!res.ok) throw new Error(`${data.message} (${res.status})`);\r\n    return data;\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};","class SearchView {\r\n  _parentElement = document.querySelector('.search');\r\n\r\n  getQuary() {\r\n    const query = this._parentElement.querySelector('.search__field').value;\r\n    this.clearInput();\r\n    return query;\r\n  }\r\n\r\n  clearInput() {\r\n    this._parentElement.querySelector('.search__field').value = '';\r\n  }\r\n\r\n  addHandlerSearch(handler) {\r\n    this._parentElement.addEventListener('submit', function (e) {\r\n      e.preventDefault();\r\n      handler();\r\n    });\r\n  }\r\n}\r\n\r\nexport default new SearchView();\r\n","import previewView from './previewView';\r\nimport view from './view';\r\n\r\nclass ResultsView extends view {\r\n  _parentElement = document.querySelector('.results');\r\n  _errorMessage = ' No recipes found for your query. Please try again ;)';\r\n  _message = '';\r\n\r\n  _generateMarkup() {\r\n    return this._data.map(result => previewView.render(result, false)).join('');\r\n  }\r\n}\r\n\r\nexport default new ResultsView();\r\n","import view from './view';\r\nconst icons = new URL('../../img/icons.svg', import.meta.url).href;\r\n\r\nclass PreviewView extends view {\r\n  _parentElement = '';\r\n\r\n  _generateMarkup() {\r\n    const id = window.location.hash.slice(1);\r\n    return `\r\n          <li class=\"preview\">\r\n            <a class=\"preview__link ${\r\n              this._data.id === id ? 'preview__link--active' : ''\r\n            }\" href=\"#${this._data.id}\">\r\n              <figure class=\"preview__fig\">\r\n                <img src=\"${this._data.image}\" alt=\"${this._data.title}\" />\r\n              </figure>\r\n              <div class=\"preview__data\">\r\n                <h4 class=\"preview__title\">${this._data.title}</h4>\r\n                <p class=\"preview__publisher\">${this._data.publisher}</p>\r\n                <div class=\"recipe__user-generated ${\r\n                  this._data.key ? '' : 'hidden'\r\n                }\">\r\n                  <svg>\r\n                    <use href=\"${icons}#icon-user\"></use>\r\n                  </svg>\r\n                </div>\r\n              </div>\r\n            </a>\r\n          </li>`;\r\n  }\r\n}\r\n\r\nexport default new PreviewView();\r\n","const icons = new URL('../../img/icons.svg', import.meta.url).href;\r\nimport View from './view';\r\n\r\nclass PaginationView extends View {\r\n  _parentElement = document.querySelector('.pagination');\r\n\r\n  addHandlerClick(handler) {\r\n    this._parentElement.addEventListener('click', function (e) {\r\n      const btn = e.target.closest('.btn--inline');\r\n      if (!btn) return;\r\n\r\n      const goToPage = +btn.dataset.goto;\r\n      handler(goToPage);\r\n    });\r\n  }\r\n\r\n  _generateMarkup() {\r\n    const curPage = this._data.page;\r\n    const numPages = Math.ceil(\r\n      this._data.results.length / this._data.resultsPerPage\r\n    );\r\n    // Page 1 and there are other pages\r\n    if (curPage === 1 && numPages > 1) {\r\n      return `\r\n          <button data-goto=\"${\r\n            curPage + 1\r\n          }\" class=\"btn--inline pagination__btn--next\">\r\n            <span>Page ${curPage + 1}</span>\r\n            <svg class=\"search__icon\">\r\n              <use href=\"${icons}#icon-arrow-right\"></use>\r\n            </svg>\r\n          </button>`;\r\n    }\r\n    // Last page\r\n    if (curPage === numPages && numPages > 1) {\r\n      return `\r\n         <button data-goto=\"${\r\n           curPage - 1\r\n         }\" class=\"btn--inline pagination__btn--prev\">\r\n            <svg class=\"search__icon\">\r\n              <use href=\"${icons}#icon-arrow-left\"></use>\r\n            </svg>\r\n            <span>Page ${curPage - 1}</span>\r\n          </button>\r\n          `;\r\n    }\r\n    // Other page\r\n    if (curPage < numPages) {\r\n      return `\r\n       <button data-goto=\"${\r\n         curPage - 1\r\n       }\" class=\"btn--inline pagination__btn--prev\">\r\n            <svg class=\"search__icon\">\r\n              <use href=\"${icons}#icon-arrow-left\"></use>\r\n            </svg>\r\n            <span>Page ${curPage - 1}</span>\r\n          </button>\r\n           <button data-goto=\"${\r\n             curPage + 1\r\n           }\" class=\"btn--inline pagination__btn--next\">\r\n            <span>Page ${curPage + 1}</span>\r\n            <svg class=\"search__icon\">\r\n              <use href=\"${icons}#icon-arrow-right\"></use>\r\n            </svg>\r\n          </button>`;\r\n    }\r\n    // Page 1 and there are no other pages\r\n    return 'Only one page';\r\n  }\r\n}\r\n\r\nexport default new PaginationView();\r\n","// import icons from 'url:../../img/icons.svg';\r\nimport previewView from './previewView';\r\nimport view from './view';\r\n\r\nclass BookmarksView extends view {\r\n  _parentElement = document.querySelector('.bookmarks__list');\r\n  _errorMessage = ' No bookmarks yet. Find a nice recipe and bookmark it :)';\r\n  _message = '';\r\n\r\n  addHandlerRender(handler) {\r\n    window.addEventListener('load', handler);\r\n  }\r\n\r\n  _generateMarkup() {\r\n    // console.log(this._data);\r\n    return this._data\r\n      .map(bookmark => previewView.render(bookmark, false))\r\n      .join('');\r\n  }\r\n}\r\n\r\nexport default new BookmarksView();\r\n","import View from './view';\r\n\r\nclass AddRecipeView extends View {\r\n  _parentElement = document.querySelector('.upload');\r\n  _message = 'Recipe was successfully uploaded :)';\r\n\r\n  _window = document.querySelector('.add-recipe-window');\r\n  _overlay = document.querySelector('.overlay');\r\n  _btnOpen = document.querySelector('.nav__btn--add-recipe');\r\n  _btnClose = document.querySelector('.btn--close-modal');\r\n\r\n  constructor() {\r\n    super();\r\n    this._addHandlerShowWindow();\r\n    this._addHandlerHideWindow();\r\n  }\r\n\r\n  toggleWindow() {\r\n    this._overlay.classList.toggle('hidden');\r\n    this._window.classList.toggle('hidden');\r\n  }\r\n\r\n  _addHandlerShowWindow() {\r\n    this._btnOpen.addEventListener('click', this.toggleWindow.bind(this));\r\n  }\r\n  _addHandlerHideWindow() {\r\n    this._btnClose.addEventListener('click', this.toggleWindow.bind(this));\r\n    this._overlay.addEventListener('click', this.toggleWindow.bind(this));\r\n  }\r\n\r\n  addHandlerUPload(handler) {\r\n    this._parentElement.addEventListener('submit', function (e) {\r\n      e.preventDefault();\r\n      const dataArr = [...new FormData(this)];\r\n      const data = Object.fromEntries(dataArr);\r\n      handler(data);\r\n    });\r\n  }\r\n\r\n  _generateMarkup() {}\r\n}\r\n\r\nexport default new AddRecipeView();\r\n"],"names":["storage","$c502d14e532623e1$exports","$b2d7157267813d3a$var$icons","URL","resolve","href","$b2d7157267813d3a$export$2e2bcd8739ae039","_data","render","data","Array","isArray","length","renderError","markup1","_generateMarkup","_clear","_parentElement","insertAdjacentHTML","update","newMarkup","markup","newElements","from","newDOM","document","createRange","createContextualFragment","querySelectorAll","curElements","forEach","newEl","i","curEl","isEqualNode","firstChild","nodeValue","trim","textContent","attributes","attr","setAttribute","name","value","innerHTML","renderSpinner","message","_errorMessage","renderMessage","_message","$d14dc0f178617192$var$icons","$d14dc0f178617192$var$RecepieView","querySelector","addHandler","handler","ev","window","addEventListener","addHandlerUpdateServings","e","btn","target","closest","updateTo","dataset","addHandlerAddBookmark","image","title","cookingTime","servings","key","bookmarked","ingredints","map","_generateMarkupIngredient","join","publisher","sorceUrl","ing","quantity","$d14dc0f178617192$var$floatAFraccionSimple","decimal","numerador","mcd","divisor","str","toString","indexOf","denominador","Math","pow","num","den","a","b","unit","description","$d14dc0f178617192$export$2e2bcd8739ae039","$ba30e20475feac5a$export$923ea8233b386e99","$7de0ff7ad01e6871$export$2b3ff41fecbef7c8","url","uploadData","fetchPro","fetch","method","headers","body","JSON","stringify","res","Promise","race","_","reject","setTimeout","Error","s","json","ok","status","err","$ca3f5e8015d47218$export$ca000e230c0caa3e","recipe","search","query","results","page","resultsPerPage","bookmarks","$ca3f5e8015d47218$export$b96725c7a035d60b","id","$ca3f5e8015d47218$var$createRecipeObject","some","bookmark","console","error","source_url","image_url","cooking_time","ingredients","$ca3f5e8015d47218$export$202b8e5cb363a0c4","recipes","rec","$ca3f5e8015d47218$export$785165c672bdc55c","start","end","slice","$ca3f5e8015d47218$export$5e23f4642ecad5ea","newServings","$ca3f5e8015d47218$var$persistBookmarks","localStorage","setItem","$ca3f5e8015d47218$export$72009cc673d27d80","recepie","push","$ca3f5e8015d47218$export$cfae3353e37f94bf","index","findIndex","el","splice","getItem","parse","$ca3f5e8015d47218$export$d660c2254e74960d","newRecipe","Object","entries","filter","entry","startsWith","ingArr","split","sourceUrl","$813cf99795e9ec97$var$SearchView","getQuary","clearInput","addHandlerSearch","preventDefault","$813cf99795e9ec97$export$2e2bcd8739ae039","$a68ceb92eae160df$var$icons","$a68ceb92eae160df$export$2e2bcd8739ae039","location","hash","$dddbd0b30676c4ae$var$ResultsView","result","$dddbd0b30676c4ae$export$2e2bcd8739ae039","$cfa940594ee109f7$var$icons","$cfa940594ee109f7$var$PaginationView","addHandlerClick","goto","curPage","numPages","ceil","$cfa940594ee109f7$export$2e2bcd8739ae039","$5d1bb7e064b2cbd1$var$BookmarksView","addHandlerRender","$5d1bb7e064b2cbd1$export$2e2bcd8739ae039","$e5dc5dc5ede8bdf4$var$AddRecipeView","_window","_overlay","_btnOpen","_btnClose","_addHandlerShowWindow","_addHandlerHideWindow","toggleWindow","classList","toggle","bind","addHandlerUPload","fromEntries","FormData","$e5dc5dc5ede8bdf4$export$2e2bcd8739ae039","$f50bd1f2915ed0f2$var$controlRecipes","alert","$f50bd1f2915ed0f2$var$controlSearchResults","$f50bd1f2915ed0f2$var$controlAddRecipe","log","history","pushState","pageGoTo"],"version":3,"file":"Proyect_ProgramacionConJava2.46c4f86a.js.map"}